define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(e,a,t){"use strict";function n(){this.snippetMap={},this.snippetNameMap={}}var i=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,h=e("./lib/lang"),u=e("./range").Range,r=e("./anchor").Anchor,o=e("./keyboard/hash_handler").HashHandler,c=e("./tokenizer").Tokenizer,p=u.comparePoints;!function(){i.implement(this,s),this.getTokenizer=function(){function i(e,t,n){return e=e.substr(1),/^\d+$/.test(e)&&!n.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function e(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return n.$tokenizer=new c({start:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectIf?(n[0].expectIf=!1,n[0].elseBranch=n[0],[n[0]]):":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?e=i:n.inFormatString&&("n"==i||"t"==i?e="\n":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:"a"<i})),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:i},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,t,n){e=i(e.substr(1),0,n);return n.unshift(e[0]),e},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(e,t,n){n[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+e("/")+"+)/(?:("+e("/")+"*)/)(\\w*):?",onMatch:function(e,t,n){n=n[0];return n.fmtString=e,e=this.splitRegex.exec(e),n.guard=e[1],n.fmt=e[2],n.flag=e[3],""},next:"start"},{regex:"`"+e("`")+"*`",onMatch:function(e,t,n){return n[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,n){n[0]&&(n[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+e("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,n){n.inFormatString=!0},next:"start"}]}),n.prototype.getTokenizer=function(){return n.$tokenizer},n.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var n=t.substr(1);return(this.variables[t[0]+"__"]||{})[n]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var i=e.session;switch(t){case"CURRENT_WORD":var s=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(s);case"CURRENT_LINE":return i.getLine(e.getCursorPosition().row);case"PREV_LINE":return i.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,r){var n=t.flag||"",i=t.guard,i=new RegExp(i,n.replace(/[^gi]/,"")),a=this.tokenizeTmSnippet(t.fmt,"formatString"),o=this,i=e.replace(i,function(){o.variables.__=arguments;for(var e=o.resolveVariables(a,r),t="E",n=0;n<e.length;n++){var i,s=e[n];"object"==typeof s?(e[n]="",s.changeCase&&s.local?(i=e[n+1])&&"string"==typeof i&&("u"==s.changeCase?e[n]=i[0].toUpperCase():e[n]=i[0].toLowerCase(),e[n+1]=i.substr(1)):s.changeCase&&(t=s.changeCase)):"U"==t?e[n]=s.toUpperCase():"L"==t&&(e[n]=s.toLowerCase())}return e.join("")});return this.variables.__=null,i},this.resolveVariables=function(t,e){function n(e){e=t.indexOf(e,s+1);-1!=e&&(s=e)}for(var i=[],s=0;s<t.length;s++){var r,a=t[s];"string"==typeof a?i.push(a):"object"==typeof a&&(a.skip?n(a):a.processed<s||(a.text?((r=this.getVariableValue(e,a.text))&&a.fmtString&&(r=this.tmStrFormat(r,a)),a.processed=s,null==a.expectIf?r&&(i.push(r),n(a)):r?a.skip=a.elseBranch:n(a)):null==a.tabstopId&&null==a.changeCase||i.push(a)))}return i},this.insertSnippetForSelection=function(e,t){var n=e.getCursorPosition(),i=e.session.getLine(n.row),s=e.session.getTabString(),r=i.match(/^\s*/)[0];n.column<r.length&&(r=r.slice(0,n.column)),t=t.replace(/\r/g,"");var a=this.tokenizeTmSnippet(t);a=(a=this.resolveVariables(a,e)).map(function(e){return"\n"==e?e+r:"string"==typeof e?e.replace(/\t/g,s):e});var o=[];a.forEach(function(e,t){var n,i;"object"==typeof e&&(n=e.tabstopId,(i=o[n])||((i=o[n]=[]).index=n,i.value=""),-1===i.indexOf(e)&&(i.push(e),-1!==(e=a.indexOf(e,t+1))&&((e=a.slice(t+1,e)).some(function(e){return"object"==typeof e})&&!i.value?i.value=e:!e.length||i.value&&"string"==typeof i.value||(i.value=e.join("")))))}),o.forEach(function(e){e.length=0});for(var c={},h=0;h<a.length;h++){var u,p,l,d,g=a[h];"object"==typeof g&&(u=g.tabstopId,p=a.indexOf(g,h+1),c[u]?c[u]===g&&(c[u]=null):((d="string"==typeof(l=o[u]).value?[l.value]:function(e){for(var t=[],n=0;n<e.length;n++){if("object"==typeof(i=e[n])){if(c[i.tabstopId])continue;var i=t[e.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}t[n]=i}return t}(l.value)).unshift(h+1,Math.max(0,p-h)),d.push(g),c[u]=g,a.splice.apply(a,d),-1===l.indexOf(g)&&l.push(g)))}var f=0,m=0,b="";a.forEach(function(e){var t;"string"==typeof e?(1<(t=e.split("\n")).length?(m=t[t.length-1].length,f+=t.length-1):m+=e.length,b+=e):e.start?e.end={row:f,column:m}:e.start={row:f,column:m}});i=e.getSelectionRange(),n=e.session.replace(i,b),t=new v(e),e=e.inVirtualSelectionMode&&e.selection.index;t.addTabstops(o,i.start,n,e)},this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection(function(){n.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t,n=e.session.$mode.$id||"";return"html"!==(n=n.split("/").pop())&&"php"!==n||("php"!==n||e.session.$mode.inlinePhp||(n="html"),t=e.getCursorPosition(),(t="object"==typeof(t=e.session.getState(t.row))?t[0]:t).substring&&("js-"==t.substring(0,3)?n="javascript":"css-"==t.substring(0,4)?n="css":"php-"==t.substring(0,4)&&(n="php"))),n},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],e=this.snippetMap;return e[t]&&e[t].includeScopes&&n.push.apply(n,e[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,i=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(e,t){var n,i=e.getCursorPosition(),s=e.session.getLine(i.row),r=s.substring(0,i.column),a=s.substr(i.column),o=this.snippetMap;return this.getActiveScopes(e).some(function(e){e=o[e];return!!(n=e?this.findMatchingSnippet(e,r,a):n)},this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,n){for(var i=e.length;i--;){var s=e[i];if((!s.startRe||s.startRe.test(t))&&((!s.endRe||s.endRe.test(n))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(t):[""],s.matchAfter=s.endRe?s.endRe.exec(n):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(t)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(n)[0]:"",s}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,i){function s(e){return(e=e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)?"(?:"+e+")":e)||""}function r(e,t,n){return e=s(e),t=s(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function t(e){e.scope||(e.scope=i||"_"),i=e.scope,a[i]||(a[i]=[],o[i]={});var t,n=o[i];e.name&&((t=n[e.name])&&c.unregister(t),n[e.name]=e),a[i].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=h.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=r(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=r(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}var a=this.snippetMap,o=this.snippetNameMap,c=this;(e=e||[])&&e.content?t(e):Array.isArray(e)&&e.forEach(t),this._signal("registerSnippets",{scope:i})},this.unregister=function(e,n){function t(e){var t=s[e.scope||n];t&&t[e.name]&&(delete t[e.name],0<=(e=(t=i[e.scope||n])&&t.indexOf(e))&&t.splice(e,1))}var i=this.snippetMap,s=this.snippetNameMap;e.content?t(e):Array.isArray(e)&&e.forEach(t)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n,i,s=[],r={},a=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;i=a.exec(e);){if(i[1])try{r=JSON.parse(i[1]),s.push(r)}catch(e){}i[4]?(r.content=i[4].replace(/^\t/gm,""),s.push(r),r={}):(t=i[2],n=i[3],"regex"==t?(r.guard=(i=/\/((?:[^\/\\]|\\.)*)|$/g).exec(n)[1],r.trigger=i.exec(n)[1],r.endTrigger=i.exec(n)[1],r.endGuard=i.exec(n)[1]):"snippet"==t?(r.tabTrigger=n.match(/^\S*/)[0],r.name||(r.name=n)):r[t]=n)}return s},this.getSnippetByName=function(t,e){var n,i=this.snippetNameMap;return this.getActiveScopes(e).some(function(e){e=i[e];return!!(n=e?e[t]:n)},this),n}}.call(n.prototype);var v=function(e){if(e.tabstopManager)return e.tabstopManager;(e.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=h.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};!function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t="r"==e.action[0],n=e.start,i=e.end,s=n.row,r=i.row-s,a=i.column-n.column;if(t&&(r=-r,a=-a),!this.$inChange&&t){e=this.selectedTabstop;if(e&&!e.some(function(e){return p(e.start,n)<=0&&0<=p(e.end,i)}))return this.detach()}for(var o=this.ranges,c=0;c<o.length;c++){var h=o[c];h.end.row<n.row||(t&&p(n,h.start)<0&&0<p(i,h.end)?(this.removeRange(h),c--):(h.start.row==s&&h.start.column>n.column&&(h.start.column+=a),h.end.row==s&&h.end.column>=n.column&&(h.end.column+=a),h.start.row>=s&&(h.start.row+=r),h.end.row>=s&&(h.end.row+=r),0<p(h.start,h.end)&&this.removeRange(h)))}o.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges){this.$inChange=!0;for(var t=this.editor.session,n=t.getTextRange(e.firstNonLinked),i=e.length;i--;){var s,r=e[i];r.linked&&(s=a.snippetManager.tmStrFormat(n,r.original),t.replace(r,s))}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var s=this.ranges[i].contains(e.row,e.column),r=n||this.ranges[i].contains(t.row,t.column);if(s&&r)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,e=this.index+(e||1),e=Math.min(Math.max(e,1),t);this.selectTabstop(e=e==t?0:e),0===e&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var n=this.editor.multiSelect;n.toSingleRange(t.firstNonLinked.clone());for(var i=t.length;i--;)t.hasLinkedRanges&&t[i].linked||n.addRange(t[i].clone(),!0);n.ranges[0]&&n.addRange(n.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,a,t){this.$openTabstops||(this.$openTabstops=[]),e[0]||(t=u.fromPoints(t,t),g(t.start,a),g(t.end,a),e[0]=[t],e[0].index=0);var o=[this.index+1,0],c=this.ranges;e.forEach(function(e,t){for(var n=this.$openTabstops[t]||e,i=e.length;i--;){var s=e[i],r=u.fromPoints(s.start,s.end||s.start);d(r.start,a),d(r.end,a),r.original=s,r.tabstop=n,c.push(r),n!=e?n.unshift(r):n[i]=r,s.fmtString?(r.linked=!0,n.hasLinkedRanges=!0):n.firstNonLinked||(n.firstNonLinked=r)}n.firstNonLinked||(n.hasLinkedRanges=!1),n===e&&(o.push(n),this.$openTabstops[t]=n),this.addTabstopMarkers(n)},this),2<o.length&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new o,this.keyboardHandler.bindKeys({Tab:function(e){a.snippetManager&&a.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return!1}})}.call(v.prototype);var l={};l.onChange=r.prototype.onChange,l.setPosition=function(e,t){this.pos.row=e,this.pos.column=t},l.update=function(e,t,n){this.$insertRight=n,this.pos=e,this.onChange(t)};var d=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},g=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),a.snippetManager=new n;e=e("./editor").Editor;!function(){this.insertSnippet=function(e,t){return a.snippetManager.insertSnippet(this,e,t)},this.expandSnippet=function(e){return a.snippetManager.expandWithTab(this,e)}}.call(e.prototype)}),define("ace/ext/emmet",["require","exports","module","ace/keyboard/hash_handler","ace/editor","ace/snippets","ace/range","resources","resources","tabStops","resources","utils","actions","ace/config","ace/config"],function(t,a,e){"use strict";function n(){}var c,i,s=t("ace/keyboard/hash_handler").HashHandler,r=t("ace/editor").Editor,o=t("ace/snippets").snippetManager,h=t("ace/range").Range;n.prototype={setupContext:function(e){this.ace=e,this.indentation=e.session.getTabString(),((c=c||window.emmet).resources||c.require("resources")).setVariable("indentation",this.indentation),this.$syntax=null,this.$syntax=this.getSyntax()},getSelectionRange:function(){var e=this.ace.getSelectionRange(),t=this.ace.session.doc;return{start:t.positionToIndex(e.start),end:t.positionToIndex(e.end)}},createSelection:function(e,t){var n=this.ace.session.doc;this.ace.selection.setRange({start:n.indexToPosition(e),end:n.indexToPosition(t)})},getCurrentLineRange:function(){var e=this.ace,t=e.getCursorPosition().row,n=e.session.getLine(t).length,t=e.session.doc.positionToIndex({row:t,column:0});return{start:t,end:t+n}},getCaretPos:function(){var e=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(e)},setCaretPos:function(e){e=this.ace.session.doc.indexToPosition(e);this.ace.selection.moveToPosition(e)},getCurrentLine:function(){var e=this.ace.getCursorPosition().row;return this.ace.session.getLine(e)},replaceContent:function(e,t,n,i){null==n&&(n=null==t?this.getContent().length:t);var s=this.ace,r=s.session.doc,n=h.fromPoints(r.indexToPosition(t=null==t?0:t),r.indexToPosition(n));s.session.remove(n),n.end=n.start,e=this.$updateTabstops(e),o.insertSnippet(s,e)},getContent:function(){return this.ace.getValue()},getSyntax:function(){if(this.$syntax)return this.$syntax;var e,t=this.ace.session.$modeId.split("/").pop();return"html"!=t&&"php"!=t||(e=this.ace.getCursorPosition(),(e="string"!=typeof(e=this.ace.session.getState(e.row))?e[0]:e)&&(1<(e=e.split("-")).length?t=e[0]:"php"==t&&(t="html"))),t},getProfileName:function(){var e=c.resources||c.require("resources");switch(this.getSyntax()){case"css":return"css";case"xml":case"xsl":return"xml";case"html":return e.getVariable("profile")||(-1!=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)?"xhtml":"html");default:var t=this.ace.session.$mode;return t.emmetConfig&&t.emmetConfig.profile||"xhtml"}},prompt:function(e){return prompt(e)},getSelection:function(){return this.ace.session.getTextRange()},getFilePath:function(){return""},$updateTabstops:function(e){var s=0,r=null,a=c.tabStops||c.require("tabStops"),t=(c.resources||c.require("resources")).getVocabulary("user"),o={tabstop:function(e){var t=parseInt(e.group,10),n=0===t;n?t=++s:t+=1e3;var i=e.placeholder,i="${"+t+((i=i&&a.processText(i,o))?":"+i:"")+"}";return n&&(r=[e.start,i]),i},escape:function(e){return"$"==e?"\\$":"\\"==e?"\\\\":e}};return e=a.processText(e,o),t.variables.insert_final_tabstop&&!/\$\{0\}$/.test(e)?e+="${0}":r&&(e=(c.utils?c.utils.common:c.require("utils")).replaceSubstring(e,"${0}",r[0],r[1])),e}};var u,p={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},match_pair_outward:{mac:"ctrl+d",win:"ctrl+,"},match_pair_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}},l=new n;for(u in a.commands=new s,a.runEmmetCommand=function t(n){try{l.setupContext(n);var e=c.actions||c.require("actions");if("expand_abbreviation_with_tab"==this.action){if(!n.selection.isEmpty())return!1;var i=n.selection.lead,s=n.session.getTokenAt(i.row,i.column);if(s&&/\btag\b/.test(s.type))return!1}if("wrap_with_abbreviation"==this.action)return setTimeout(function(){e.run("wrap_with_abbreviation",l)},0);var r=e.run(this.action,l)}catch(e){if(!c)return a.load(t.bind(this,n)),!0;n._signal("changeStatus","string"==typeof e?e:e.message),console.log(e),r=!1}return r},p)a.commands.addCommand({name:"emmet:"+u,action:u,bindKey:p[u],exec:a.runEmmetCommand,multiSelectAction:"forEach"});a.updateCommands=function(e,t){t?e.keyBinding.addKeyboardHandler(a.commands):e.keyBinding.removeKeyboardHandler(a.commands)},a.isSupportedMode=function(e){if(!e)return!1;if(e.emmetConfig)return!0;e=e.$id||e;return/css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(e)},a.isAvailable=function(e,t){if(/(evaluate_math_expression|expand_abbreviation)$/.test(t))return!0;var n=e.session.$mode,t=a.isSupportedMode(n);if(t&&n.$modes)try{l.setupContext(e),/js|php/.test(l.getSyntax())&&(t=!1)}catch(e){}return t};function d(e,t){var n=t;n&&(t=a.isSupportedMode(n.session.$mode),(t=!1===e.enableEmmet?!1:t)&&a.load(),a.updateCommands(n,t))}a.load=function(e){"string"==typeof i&&t("ace/config").loadModule(i,function(){i=null,e&&e()})},a.AceEmmetEditor=n,t("ace/config").defineOptions(r.prototype,"editor",{enableEmmet:{set:function(e){this[e?"on":"removeListener"]("changeMode",d),d({enableEmmet:!!e},this)},value:!0}}),a.setCore=function(e){"string"==typeof e?i=e:c=e}}),window.require(["ace/ext/emmet"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});